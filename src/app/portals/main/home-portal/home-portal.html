<div class="layout">
  <!-- Botón de menú solo visible en móvil cuando el sidebar está cerrado -->
  <button class="mobile-menu-toggle" (click)="toggleSidebar()" *ngIf="!isSidebarOpen">
    <i class="pi pi-bars"></i>
  </button>
  
  <aside class="sidebar" [ngClass]="{ 'sidebar-open': isSidebarOpen }">
    <h3>MiniBank</h3>
    <p-panelMenu [model]="menu"></p-panelMenu>
  </aside>

  <!-- Capa de fondo oscura solo en móvil cuando el sidebar está abierto -->
  <div class="overlay" *ngIf="isSidebarOpen" (click)="closeSidebar()"></div>

  <div class="main">
    <header class="header">
      <div class="spacer"></div>
      <p-menu [popup]="true" #menuRef [model]="userMenuItems"></p-menu>
      <p-button label="Perfil" icon="pi pi-user" styleClass="p-button-outlined p-button-secondary" (click)="menuRef.toggle($event)" />
    </header>

    <section class="content">
      <router-outlet></router-outlet>
    </section>
  </div>
</div>
